<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-05-11 Sat 14:09 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>"/tech<sub>notes</sub>/001<sub>grep</sub><sub>regex</sub><sub>P</sub><sub>examples.qmd</sub>"</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="jim" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">"/tech<sub>notes</sub>/001<sub>grep</sub><sub>regex</sub><sub>P</sub><sub>examples.qmd</sub>"</h1>
<p>
&lt;!&#x2013;
USE THIS FILE!
</p>

<p>
<b>Main Regex file:  ~/code/docs/tech<sub>notes</sub>/REGEX/REGEX.md</b>
<b>THIS FILE IS:  ~/code/docs/tech<sub>notes</sub>/REGEX/001<sub>grep</sub><sub>regex</sub><sub>P</sub><sub>examples.qmd</sub></b>
</p>
<p>
&#x2013;&gt;
</p>


<div id="outline-container-org4cf780f" class="outline-2">
<h2 id="org4cf780f"><span class="section-number-2">1</span> TODO</h2>
<div class="outline-text-2" id="text-1">
<p>
2024-05-02
</p>
<ul class="org-ul">
<li>switch to org mode (M-x org-mode)</li>
<li>Create outline.</li>
</ul>

<p>
2024-04-20
</p>
<ul class="org-ul">
<li>fix regex marked TODO</li>
</ul>


<p>
PURPOSE:   COLLECT EXAMPLES of GREP and regex (-P = Perl) [not a script]
USAGE:		
</p>
<ul class="org-ul">
<li>Collect as
<ul class="org-ul">
<li>echo "&#x2026;" | grep -P "regex string"
EXAMPLES:	
echo "hello" | grep -P "h"
str = "hello"
regex="h"
echo $str | grep -P $regex</li>
</ul></li>
</ul>

<p>
GOAL:  
</p>
<ul class="org-ul">
<li>Capture, document, annotate useful REGEX examples.</li>
<li>Run and test in zsh shell (simpler and easier than fussing with quarto)</li>
</ul>
</div>

<div id="outline-container-org28c2dcf" class="outline-4">
<h4 id="org28c2dcf"><span class="section-number-4">1.0.1</span> Notes <b>*</b></h4>
<div class="outline-text-4" id="text-1-0-1">
<p>
QUARTO and regex: quarto sometimes does not like.
alias grep='grep &#x2013;color=always'
assertion
zero-length
Lookaround (2 directions)
</p>
<ul class="org-ul">
<li>lookahead</li>
<li>lookbehind</li>
</ul>
<p>
Each direction comes  in two flavors, positive assertion and negative assertion 
</p>

<ul class="org-ul">
<li>!so 3512471 - non-capture (?:)</li>
</ul>

<p>
```
</p>
</div>
</div>

<div id="outline-container-org6b6e71a" class="outline-3">
<h3 id="org6b6e71a"><span class="section-number-3">1.1</span> simple, class **</h3>
<div class="outline-text-3" id="text-1-1">
<p>
match 0,1 or more of ANY of prior (zy, x, zyy &#x2026;)
[xyz]*    
</p>
</div>
</div>

<div id="outline-container-org89b7a9a" class="outline-3">
<h3 id="org89b7a9a"><span class="section-number-3">1.2</span> boundary **</h3>
<div class="outline-text-3" id="text-1-2">
<p>
\b = boundary
\w = any word character
</p>

<p>
\bc\w+  matches all words begin with `c`
</p>

<p>
\b\w+\b  caputure word, not space between (not *a because * is not word char)
</p>

<p>
\bin\b   only "in"   not inning , riding 
</p>

<p>
\b(\w)\w+\1\b
1st and last must be same
</p>

<p>
matches:  pop poop bob
</p>


<p>
match everything except the paranthesies   a(bc)d , would omit ()
[<sup>()</sup>]
match X-Y (hyphen); 2 groups, 1st can have hyphen
</p>

<p>
^([^-]*)-(.*)
</p>

<p>
boundary \b - more complex than expected
equivalent to: 4 groups, (not)lookback; lookahead any word \w=[0-9a-zA-Z_]; OR, lookback; followed by not
</p>

<p>
(?&lt;!w)(?=\w)| (?&lt;=\w)(?!\w)
</p>

<p>
match any single char, can repeat, aa, ddd
</p>

<p>
(.)\1+
</p>

<p>
match abca
(.)(.*)\1+
</p>

<p>
## match any letter that is NOT ( or )
</p>

<p>
echo "ab(cde)fg" | grep -P "[<sup>()</sup>]"
</p>


<p>
echo ${line<sub>break</sub>}
</p>

<p>
str="hello"
regex="h"
echo $str | grep -E "$regex" -
</p>

<p>
echo abc.x | echo -E '[.]'             # matches the dot (ie literal)
</p>

<p>
<b><b>greedy</b></b>
l.*k  matches:   look,lok, looooook
</p>

<p>
echo aZZ | grep -E Z                    # ZZ
</p>

<p>
<b><b>not</b></b> <b><b>greedy</b></b>
regex='Z$'
echo "Z" | grep -P $regex               # Z
echo "ZZ" | grep -P $regex              # Z
</p>

<p>
#### Lazy, not Greedy - NOT WORKING!	
</p>

<p>
regex="<sup>(.+?)</sup>\1+$"
echo "xyzzyxxyzzyxxyzzyx" | grep -P $regex 
REF: <a href="https://rubular.com/r/Fa10P9Q3fB">https://rubular.com/r/Fa10P9Q3fB</a>
      xyzzyxxyzzyxxyzzyx
</p>

<p>
echo "bbbbbb" | grep -P $regex 
<b><b>find adjacent repeated letters</b></b>
</p>

<p>
echo "abcdd" | grep -P '([a-z])\1'
'dd'
</p>

<p>
### Lazy
</p>

<p>
SEE <a href="https://regex101.com/r/jxXKfj/1">https://regex101.com/r/jxXKfj/1</a>
with and without `g` flag
regex="&lt;.*?&gt;"
Shows effect on multiple "&lt;EM&gt;"  repeated twice in sentence.
</p>


<p>
### Why PERL? (for lookbacks) 
</p>

<p>
regex='\d(?=x)'
echo "5x" | grep -E $regex
</p>

<p>
#	sees nothing
echo "5x" | grep -P $regex
</p>


<p>
\section{Explain !}
</p>

<p>
echo '\\\\' "\\\\"              expect:     \\\\ <br />
</p>

<p>
####	complex regex
</p>

<p>
str='animal=cat,dog,cat,'
echo $str
&lt;!&#x2013;
quarto compile complains this line:
regex='(?:animal)(?:=)(\w+)(,)(?:.*)\1\2'
&#x2013;&gt;
echo ${regex}
echo $str | grep -P $regex
echo 'animal=dog,cat,dog,deer,dog,' | grep -P $regex
</p>

<p>
\section{Anchors are zero-length assertions}
</p>

<p>
\begin{verbatim}
</p>


<p>
### Remarks:
#	echoing ONE expression; grep does not see 4 expressions
echo "A Z AZ AAAAAAZ" | grep -P $regex
</p>

<p>
echo "A" "Z" "AZ" "AAAAAZ" | grep -P $regex
</p>

<p>
#	works, echo several expressoins
dotfiles=("a" "b" "c")
for j in "\({dotfiles[@]}"
do
	echo "\){j}" 
done
</p>

<p>
#	not work with grep
dotfiles=("A" "Z" "AZ" "AAAAAZ")
for j in "\({dotfiles[@]}"
do
	echo "\){j}"  | grep -P $regex
done
</p>






<p>
####	GREEDY and BACKTRACK
</p>

<p>
Consider the String &lt;A tasty apple&gt;   (excluding the angle brackets)
And the pattern &lt;.*apple&gt; (again exclude the angle brackets)
</p>


<p>
initially, .* portion makes the entire string, but then can't make apple
str="A tasty apple"
regex='.*apple'
echo $str | grep -P $regex
echo $str | grep -P ".*" 
</p>


<p>
#### AAA  (fix)
str="AAA"
echo $str | grep -P "A+"
echo $str | grep -P "(A)+"
</p>

<p>
echo $str | grep -P "(AA)+"
echo $str | grep -P "(A)+\1"
echo $str | grep -P "(A).\1"
echo $str | grep -P "(A)\1"
</p>

<p>
echo $str | grep -P "(AA)+\1"
</p>

<p>
str="AAA"
regex='A*'
echo $str | grep -P $regex
</p>

<p>
regex='A*?'
echo $str | grep -P $regex
</p>

<p>
regex='A+?'
echo $str | grep -P $regex
</p>

<p>
str='&#x2013; comment'
regex='&#x2013;(?:.*&sect;)?'
echo $str | grep -P $regex
</p>

<p>
####	judy followed by digit (Fails)
</p>

<p>
###  This ENDS dquote&gt;
	echo "
</p>

<p>
#	Works
	echo "judy is 3" | grep -P '\d'
</p>


<p>
echo "Find Judith followed somewhere by digit"
</p>

<p>
##	ALL FAIL
echo "Judith is 10 on scale of 10!"  | grep -P "Judith(?=.*?[0-9]&sect;)"
echo "Judith is 10 on scale of 10!"  | grep -P 'Judith(?=.*?[0-9])'
echo "'"
</p>

<p>
echo "\'"
echo "\""
</p>



<p>
regex='Judith(?=.*?[0-9])'
echo ${regex}
</p>

<p>
## FAIL
echo "Judith is 10 on scale of 10!"  | grep -P ${regex} 
</p>

<p>
echo ${line<sub>break</sub>}
echo "Find digits"
echo "Judith is 10 on scale of 10!"  | grep -P '\d'
echo "Judith is 10 on scale of 10!"  | grep -P \d
echo "Judith is 10 on scale of 10!"  | grep -P "\d"
</p>



<p>
echo "
</p>

<p>
##	Works
echo "digit IF followed by somewhere by x"
echo "3 &#x2026;.a &#x2026;a" | grep -P '\d(?=.*x)'
echo "3 &#x2026;.x &#x2026;x" | grep -P '\d(?=.*x)'
</p>


<p>
##	Works
	echo ${line<sub>break</sub>}
	echo "digit IF followed immediately by x"
</p>

<p>
##	compare:
echo "A: 3 &#x2026;.x &#x2026;x" | grep -P '\d(?=x)'
echo "B: &#x2026;.3x &#x2026;x" | grep -P '\d(?=x)'
</p>


<p>
##	WORKS
	echo ${line<sub>break</sub>}
	echo "Match x and digits in either order; C does not match"
	echo "B works because followed by is zero width; sees x, so it meets criteria"
	echo "C does not"
</p>

<p>
echo "A: &#x2026;x3"  | grep -P '<sup>(?=.*x)</sup>.*\d'
echo "B: &#x2026;3x"  | grep -P '<sup>(?=.*x)</sup>.*\d'
echo "C: &#x2026;3"  | grep -P '<sup>(?=.*x)</sup>.*\d'
</p>

<p>
echo ${line<sub>break</sub>}
echo "to be or not to be" | grep -P '(to)(be) or not \1 \2'
echo "to be or not to be" | grep -P '(to)(be)(?:or not) \1 \2'
</p>

<p>
echo "2021-12-13" | grep -P '(\d{4})-(\d{2})'
echo "2021-12-13" | grep -P '(\d{4})-\d{2}\1'
</p>

<p>
echo "2021-12-13" | grep -P '(\d{4})-(\d{2})-(\d{2})\3' #MONTH\1'
</p>

<p>
####	trim extra space [ nothing works here]
regex='^[\t]+|[ \t]+\('
regex='^[\s]+|[\s]+\)'
echo $regex
</p>

<p>
echo " abcde" | grep -P $regex
echo "abcde " | grep -P $regex
</p>

<p>
echo " abcde " | grep -P $regex
</p>


<p>
#	X(?=Y) X followed by Y
</p>

<p>
regex='&#x2013;.*?(?=[^\r\n&sect;]*$)'
echo $regex
echo '&#x2013;  this is a comment.' | grep -P $regex
</p>



<p>
###	
</p>

<p>
a followed by c:
</p>

<p>
'a(?=c)'
str=bacad
echo $str | grep -P 'a(?=c)'
</p>


<p>
####	a preceeded by b 
</p>

<p>
echo "a preceeded by by b"
reg='(?&lt;=b)a'
str=bacad
echo $str | grep -P '(?&lt;=b)a'
</p>


<p>
####  Lookahead, positive or negative
</p>
</div>
</div>

<div id="outline-container-org1274221" class="outline-3">
<h3 id="org1274221"><span class="section-number-3">1.3</span> Don't make errror (sic) here**  (highlights errror)</h3>
<div class="outline-text-3" id="text-1-3">
<p>
\b\w+\b\s(?=\(sic\))
</p>

<p>
a folowed by A-Z
</p>

<p>
'a(?=[A-Z])'
</p>

<p>
TODO (2024-04-27)
fails 23&amp;
1 or more digits followed by non-word  (word = [0-9a-zA-Z_])
</p>

<p>
\d+(?=\W|$)
</p>



<p>
##	lookahead, positive
regex='q(?=u)'
echo "quack" | grep -P $regex
</p>

<p>
#		Rmk:	grep highlights subset meets criteria or null set 
</p>

<p>
echo "qq"  | grep -P $regex
</p>


<p>
##	lookahead, negative (q NOT followed by u)
regex='q(?!u)'
#	match
echo "qq" | grep -P $regex
</p>

<p>
#	no match
echo "quack" | grep -P $regex
</p>




<p>
echo "bacadc"
echo ${line<sub>break</sub>}
echo "a NOT followed by c"
echo 'a(?!c)'
str=bacad
str=bacadc
echo $str | grep -P 'a(?!c)'
</p>





<p>
####  `(?=) FIND A, followed by &#x2026;
</p>

<p>
echo "AA5" | grep -P 'A(?=5)'
echo "A2BA5" | grep -P 'A(?=5)'
</p>

<p>
echo "AB25" | grep -P 'A(?=5)'
</p>



<p>
####  `(?!) FIND A, NOT followed by &#x2026;
regex='A(?!5)'
echo "A5 AB5" | grep -P $regex
</p>

<p>
regex='A(?!5*5)'
echo "AB25" | grep -P $regex
echo "A5 A5555555555" | grep -P $regex
</p>


<p>
## not sure about this:
regex='A(?!5*3)'
echo "A5 A5555555555" | grep -P $regex
</p>

<p>
##	Remarks:
</p>

<p>
regex='A(?=[<sup>5</sup>])'
echo "AB25 AB5 A5" | grep -P $regex
</p>

<p>
regex='A(?=[<sup>5</sup>]*5)'
echo "AB25" | grep -P $regex
</p>


<p>
####	Lookaheads, misc examples (fix this)
#	lookaheads do NOT move ineex
#	no match
regex='A(?=5)(?=[A-Z])'
echo "A5C" | grep -P $regex
</p>

<p>
## this will match	
regex='A(?=5[A-Z])'
echo "A5C" | grep -P $regex
</p>

<p>
##	allow 1 char; match
regex='A(?=5).(?=[A-Z])'
echo "A5C" | grep -P $regex
</p>

<p>
#### passwords validation (not working) 
</p>

<p>
REF:	<a href="http://www.rexegg.com/regex-lookarounds.html#password">http://www.rexegg.com/regex-lookarounds.html#password</a>
</p>

<p>
regex='(?=^\w{6,10}$)'
echo "abcdef" | grep -P $regex
</p>

<p>
regex='(?=\w{6,10}$)'
</p>

<p>
regex='(?=\w)'
echo "abcdef" | grep -P $regex
</p>

<p>
regex='(?=^\w{6,10}$)'
echo "abcdef" | grep -P \(regex
regex='(?=^\w{6-10}\))'
echo "abcdef" | grep -P $regex
echo "abcdef" | grep -P $regex
echo "abcdefgh" | grep -P $regex
</p>

<p>
##	3 conseq [A-Z}
</p>

<p>
##	
</p>


<p>
##	capture v non-capture, email
</p>

<p>
(?: signals non-capture; ie must match,  but &#x2026;.
([a-zA-Z0-9_]+@[a-zA-Z0-9_]+\.(?:com|edu|org|gov))
</p>

<p>
echo " " 
reg='(?&lt;=costs)\s\d\.\d{2}'
echo "Penguin costs 2.99, and whale costs 5.99 but I only have 2.01 left"
echo "Penguin costs 2.99, and whale costs 5.99 but I only have 2.01 left" | grep -P $reg
</p>

<p>
echo " " 
reg='\w+\s(?=costs)'
echo "Penguin costs 2.99, and whale costs 5.99 but I only have 2.01 left"
echo "Penguin costs 2.99, and whale costs 5.99 but I only have 2.01 left" | grep -P $reg
</p>

<p>
##  NAMED CAPTURE GROUP
</p>
<ul class="org-ul">
<li>dupe is NAME of capture group.</li>
<li><p>
does not capture 'dupe' !
</p>
<ul class="org-ul">
<li>captures string, possiblly followed by char(s),  that repeat, but separated by non-word</li>
</ul>
<p>
(?'name'\w+)\W\k'name'
</p></li>
</ul>
<p>
(?'dupe'\w+)\W\k'dupe'
jim jim - yes
jim is a .. jim - NO
thought the anse - t at end of 1st word &amp; t at beg of 2nd word match
</p>

<p>
## named capture group, 
</p>
<ul class="org-ul">
<li>match 1st and last char if separated by only w chars</li>
</ul>

<p>
\b(?'joke'\w)\w+\k'joke'\b
</p>

<p>
## TODO
</p>

<p>
[^.] do not understand &#x2026; see:
<a href="https://rubular.com/r/dKHqlUBWGUH4CE">https://rubular.com/r/dKHqlUBWGUH4CE</a>
</p>

<p>
^(.*\.)[^.]+$
1st group, greedy
can not have 2nd . after first
abc. (ok)
abc.. (no)
</p>


<p>
^([^-]*)-(.*)#
</p>

<p>
#	TODO
</p>

<p>
\A <a href="https://rubular.com/r/wwaAwX73g4LSSI">https://rubular.com/r/wwaAwX73g4LSSI</a>
</p>
<ul class="org-ul">
<li>What is multiline mode?</li>
</ul>
<p>
-\b words in sentence
</p>




<p>
echo ${line<sub>break</sub>}
echo "a NOT preceeded by by b"
</p>

<p>
### R or neovim dislikes line begins with reg=  (code appears in RED)
### Making verbatim RED go away.
```
</p>


<p>
reg='(?&lt;!b)a'   
</p>

<p>
echo $reg
str=bacad
echo $str | grep -P '(?&lt;!b)a'
</p>

<p>
echo ${line<sub>break</sub>}
echo "Precendent"
reg='((ab|d)e)'
echo $reg
str=bacade
echo $str | grep -P '((ab|d)e)' 
</p>


<p>
echo ${line<sub>break</sub>}
echo "Alternative"
reg='(ab|d)e'
echo $reg
str=bacade
echo $str | grep -P '(ab|d)' 
</p>


<p>
regex="\d+(?=\W|$)"
</p>

<p>
##	Any pattern starts with digit, follwed by end of line or non-word
##	Can be multiple matches in one string
##	\W  not a-zA-Z0-9, plus _   ie '[^_[:alnum:]]'
##	positive lookahead (ie followed by &#x2026;)
echo "56" grep -P ${regex}
</p>

<p>
regex="(\w*)(.*)\\1"
</p>

<p>
regex='(\w*)(.*)\1'
echo "wordXABC" | grep -P ${regex} 
echo "word;word" | grep -P ${regex} 
echo "word;word1" | grep -P ${regex} 
</p>

<p>
#	matches "word" only
echo "word[]" | grep -P '(\w*)'
</p>


<p>
#### Backreference `\1`
</p>

<p>
regex='(cat|dog)\1'
echo "catXcat" | grep -P $regex
echo "catcatX" |  grep -P $regex
echo "catdogX" |  grep -P $regex
echo "cd" |  grep -P '[cd]\1'
</p>


<p>
#	Remark:
#	  `catdog` fails because backreference matches RESULT of grouping; not a
 class
##	ERROR, makes no sense.
echo "cd" |  grep -P '[cd]\1'
</p>

<p>
## In R, does what?
  p.5  &lt;- problems(pattern="(\\w*)(.*)\\1)")
</p>


<p>
```
vim: nospell
</p>
</div>
</div>
<div id="outline-container-orgc7ecdfd" class="outline-3">
<h3 id="orgc7ecdfd"><span class="section-number-3">1.4</span> also in R (033_)</h3>
<div class="outline-text-3" id="text-1-4">
<p>
```
   (f)(o+)  replace with \1<sub>\2</sub>_
   foo becomes f<sub>oo</sub>_
 ```
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: jim</p>
<p class="date">Created: 2024-05-11 Sat 14:09</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
